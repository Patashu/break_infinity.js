"use strict";for(var t=9e15,n=[],e=-323;e<=308;e++)n.push(Number("1e"+e));function r(t){return n[t+323]}var i=[];function o(t){if(t<=0)return"";var n=i[t];if(void 0!==n)return n;var e=function(t){for(var n="";n.length<t;)n+="0";return n}(t);return i[t]=e,e}function u(t){return t>0?"."+o(t):""}var s=function(t){return t instanceof m?t:new m(t)},a=function(t,n){return(new m).fromMantissaExponent(t,n)},h=function(t,n){return(new m).fromMantissaExponent_noNormalize(t,n)};function c(t,n,e,r){var i=n.mul(e.pow(r));return m.floor(t.div(i).mul(e.sub(1)).add(1).log10()/e.log10())}function f(t,n,e,r){return n.mul(e.pow(r)).mul(m.sub(1,e.pow(t))).div(m.sub(1,e))}function p(t,n){if(0===t.m){if(0===n.m)return 0;if(n.m<0)return 1;if(n.m>0)return-1}if(0===n.m){if(t.m<0)return-1;if(t.m>0)return 1}if(t.m>0)return n.m<0||t.e>n.e?1:t.e<n.e?-1:t.m>n.m?1:t.m<n.m?-1:0;if(t.m<0)return n.m>0||t.e>n.e?-1:t.e<n.e||t.m>n.m?1:t.m<n.m?-1:0;throw Error("Unreachable code")}var m=function(){function n(t){this.mantissa=NaN,this.exponent=NaN,void 0===t?(this.m=0,this.e=0):t instanceof n?this.fromDecimal(t):"number"==typeof t?this.fromNumber(t):this.fromString(t)}return Object.defineProperty(n.prototype,"m",{get:function(){return this.mantissa},set:function(t){this.mantissa=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"e",{get:function(){return this.exponent},set:function(t){this.exponent=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"s",{get:function(){return this.sign()},set:function(t){if(0===t)return this.e=0,void(this.m=0);this.sgn()!==t&&(this.m=-this.m)},enumerable:!1,configurable:!0}),n.prototype.fromMantissaExponent=function(t,n){return isFinite(t)&&isFinite(n)?(this.m=t,this.e=n,this.normalize(),this):this.fromDecimal(d)},n.fromMantissaExponent=function(t,e){return(new n).fromMantissaExponent(t,e)},n.prototype.fromMantissaExponent_noNormalize=function(t,n){return this.m=t,this.e=n,this},n.fromMantissaExponent_noNormalize=function(t,e){return(new n).fromMantissaExponent_noNormalize(t,e)},n.prototype.fromDecimal=function(t){return this.m=t.m,this.e=t.e,this},n.fromDecimal=function(t){return(new n).fromDecimal(t)},n.prototype.fromNumber=function(t){return isFinite(t)?0===t?(this.m=0,this.e=0,this):(this.e=Math.floor(Math.log10(Math.abs(t))),this.m=-324===this.e?10*t/1e-323:t/r(this.e),this.normalize(),this):this.fromMantissaExponent_noNormalize(t,0)},n.fromNumber=function(t){return(new n).fromNumber(t)},n.prototype.fromString=function(t){if(-1!==t.indexOf("e")){var n=t.split("e");return this.m=parseFloat(n[0]),this.e=parseFloat(n[1]),this.normalize()}if("NaN"===t)return this.fromDecimal(d);if(this.fromNumber(parseFloat(t)),this.isNaN())throw Error("[DecimalError] Invalid argument: "+t);return this},n.fromString=function(t){return(new n).fromString(t)},n.prototype.fromValue=function(t){return t instanceof n?this.fromDecimal(t):"number"==typeof t?this.fromNumber(t):"string"==typeof t?this.fromString(t):(this.m=0,this.e=0,this)},n.fromValue=function(t){return(new n).fromValue(t)},n.fromValue_noAlloc=function(t){return t instanceof n?t:new n(t)},n.prototype.abs=function(){return h(Math.abs(this.m),this.e)},n.abs=function(t){return s(t).abs()},n.prototype.neg=function(){return h(-this.m,this.e)},n.neg=function(t){return s(t).neg()},n.prototype.negate=function(){return this.neg()},n.negate=function(t){return s(t).neg()},n.prototype.negated=function(){return this.neg()},n.negated=function(t){return s(t).neg()},n.prototype.sgn=function(){return Math.sign(this.m)},n.sgn=function(t){return s(t).sgn()},n.prototype.sign=function(){return this.sgn()},n.sign=function(t){return s(t).sgn()},n.prototype.round=function(){return this.e<-1?new n(0):this.e<17?new n(Math.round(this.toNumber())):this},n.round=function(t){return s(t).round()},n.prototype.floor=function(){return this.isFinite()?this.e<-1?Math.sign(this.m)>=0?new n(0):new n(-1):this.e<17?new n(Math.floor(this.toNumber())):this:this},n.floor=function(t){return s(t).floor()},n.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new n(1):new n(0):this.e<17?new n(Math.ceil(this.toNumber())):this},n.ceil=function(t){return s(t).ceil()},n.prototype.trunc=function(){return this.e<0?new n(0):this.e<17?new n(Math.trunc(this.toNumber())):this},n.trunc=function(t){return s(t).trunc()},n.prototype.add=function(t){if(!this.isFinite())return this;var n,e,i=s(t);if(!i.isFinite())return i;if(0===this.m)return i;if(0===i.m)return this;if(this.e>=i.e?(n=this,e=i):(n=i,e=this),n.e-e.e>17)return n;var o=Math.round(1e14*n.m+1e14*e.m*r(e.e-n.e));return a(o,n.e-14)},n.add=function(t,n){return s(t).add(n)},n.prototype.plus=function(t){return this.add(t)},n.plus=function(t,n){return s(t).add(n)},n.prototype.sub=function(t){return this.add(s(t).neg())},n.sub=function(t,n){return s(t).sub(n)},n.prototype.subtract=function(t){return this.sub(t)},n.subtract=function(t,n){return s(t).sub(n)},n.minus=function(t,n){return s(t).sub(n)},n.prototype.minus=function(t){return this.sub(t)},n.prototype.mul=function(t){if("number"==typeof t)return t<1e307&&t>-1e307?a(this.m*t,this.e):a(1e-307*this.m*t,this.e+307);var e="string"==typeof t?new n(t):t;return a(this.m*e.m,this.e+e.e)},n.mul=function(t,n){return s(t).mul(n)},n.prototype.multiply=function(t){return this.mul(t)},n.multiply=function(t,n){return s(t).mul(n)},n.prototype.times=function(t){return this.mul(t)},n.times=function(t,n){return s(t).mul(n)},n.prototype.div=function(t){return this.mul(s(t).recip())},n.div=function(t,n){return s(t).div(n)},n.prototype.divide=function(t){return this.div(t)},n.divide=function(t,n){return s(t).div(n)},n.prototype.divideBy=function(t){return this.div(t)},n.prototype.dividedBy=function(t){return this.div(t)},n.prototype.recip=function(){return a(1/this.m,-this.e)},n.recip=function(t){return s(t).recip()},n.prototype.reciprocal=function(){return this.recip()},n.reciprocal=function(t){return s(t).recip()},n.prototype.reciprocate=function(){return this.recip()},n.reciprocate=function(t){return s(t).reciprocate()},n.prototype.cmp=function(t){var n=s(t);return this.isNaN()?n.isNaN()?0:-1:n.isNaN()?1:p(this,n)},n.cmp=function(t,n){return s(t).cmp(n)},n.prototype.compare=function(t){return this.cmp(t)},n.compare=function(t,n){return s(t).cmp(n)},n.prototype.eq=function(t){var n=s(t);return this.e===n.e&&this.m===n.m},n.eq=function(t,n){return s(t).eq(n)},n.prototype.equals=function(t){return this.eq(t)},n.equals=function(t,n){return s(t).eq(n)},n.prototype.neq=function(t){return!this.eq(t)},n.neq=function(t,n){return s(t).neq(n)},n.prototype.notEquals=function(t){return this.neq(t)},n.notEquals=function(t,n){return s(t).notEquals(n)},n.prototype.lt=function(t){var n=s(t);return 0===this.m?n.m>0:0===n.m?this.m<=0:this.e===n.e?this.m<n.m:this.m>0?n.m>0&&this.e<n.e:n.m>0||this.e>n.e},n.lt=function(t,n){return s(t).lt(n)},n.prototype.lessThan=function(t){if(this.isNaN())return!1;var n=s(t);return!n.isNaN()&&p(this,n)<0},n.prototype.lte=function(t){return!this.gt(t)},n.lte=function(t,n){return s(t).lte(n)},n.prototype.lessThanOrEqualTo=function(t){if(this.isNaN())return!1;var n=s(t);return!n.isNaN()&&p(this,n)<1},n.prototype.gt=function(t){var n=s(t);return 0===this.m?n.m<0:0===n.m?this.m>0:this.e===n.e?this.m>n.m:this.m>0?n.m<0||this.e>n.e:n.m<0&&this.e<n.e},n.gt=function(t,n){return s(t).gt(n)},n.prototype.greaterThan=function(t){if(this.isNaN())return!1;var n=s(t);return!n.isNaN()&&p(this,n)>0},n.prototype.gte=function(t){return!this.lt(t)},n.gte=function(t,n){return s(t).gte(n)},n.prototype.greaterThanOrEqualTo=function(t){if(this.isNaN())return!1;var n=s(t);return!n.isNaN()&&p(this,n)>-1},n.prototype.max=function(t){var n=s(t);return this.lt(n)?n:this},n.max=function(t,n){return s(t).max(n)},n.prototype.min=function(t){var n=s(t);return this.gt(n)?n:this},n.min=function(t,n){return s(t).min(n)},n.prototype.clamp=function(t,n){return this.max(t).min(n)},n.clamp=function(t,n,e){return s(t).clamp(n,e)},n.prototype.clampMin=function(t){return this.max(t)},n.clampMin=function(t,n){return s(t).clampMin(n)},n.prototype.clampMax=function(t){return this.min(t)},n.clampMax=function(t,n){return s(t).clampMax(n)},n.prototype.cmp_tolerance=function(t,n){var e=s(t);return this.eq_tolerance(e,n)?0:this.cmp(e)},n.cmp_tolerance=function(t,n,e){return s(t).cmp_tolerance(n,e)},n.prototype.compare_tolerance=function(t,n){return this.cmp_tolerance(t,n)},n.compare_tolerance=function(t,n,e){return s(t).cmp_tolerance(n,e)},n.prototype.eq_tolerance=function(t,e){var r=s(t);return n.lte(this.sub(r).abs(),n.max(this.abs(),r.abs()).mul(e))},n.eq_tolerance=function(t,n,e){return s(t).eq_tolerance(n,e)},n.prototype.equals_tolerance=function(t,n){return this.eq_tolerance(t,n)},n.equals_tolerance=function(t,n,e){return s(t).eq_tolerance(n,e)},n.prototype.neq_tolerance=function(t,n){return!this.eq_tolerance(t,n)},n.neq_tolerance=function(t,n,e){return s(t).neq_tolerance(n,e)},n.prototype.notEquals_tolerance=function(t,n){return this.neq_tolerance(t,n)},n.notEquals_tolerance=function(t,n,e){return s(t).notEquals_tolerance(n,e)},n.prototype.lt_tolerance=function(t,n){var e=s(t);return!this.eq_tolerance(e,n)&&this.lt(e)},n.lt_tolerance=function(t,n,e){return s(t).lt_tolerance(n,e)},n.prototype.lte_tolerance=function(t,n){var e=s(t);return this.eq_tolerance(e,n)||this.lt(e)},n.lte_tolerance=function(t,n,e){return s(t).lte_tolerance(n,e)},n.prototype.gt_tolerance=function(t,n){var e=s(t);return!this.eq_tolerance(e,n)&&this.gt(e)},n.gt_tolerance=function(t,n,e){return s(t).gt_tolerance(n,e)},n.prototype.gte_tolerance=function(t,n){var e=s(t);return this.eq_tolerance(e,n)||this.gt(e)},n.gte_tolerance=function(t,n,e){return s(t).gte_tolerance(n,e)},n.prototype.log10=function(){return this.e+Math.log10(this.m)},n.log10=function(t){return s(t).log10()},n.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},n.absLog10=function(t){return s(t).absLog10()},n.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},n.pLog10=function(t){return s(t).pLog10()},n.prototype.log=function(t){return Math.LN10/Math.log(t)*this.log10()},n.log=function(t,n){return s(t).log(n)},n.prototype.logarithm=function(t){return this.log(t)},n.logarithm=function(t,n){return s(t).log(n)},n.prototype.log2=function(){return 3.321928094887362*this.log10()},n.log2=function(t){return s(t).log2()},n.prototype.ln=function(){return 2.302585092994045*this.log10()},n.ln=function(t){return s(t).ln()},n.pow10=function(t){return Number.isInteger(t)?h(1,t):a(Math.pow(10,t%1),Math.trunc(t))},n.prototype.pow=function(t){var e,r=t instanceof n?t.toNumber():t,i=this.e*r;if(Number.isSafeInteger(i)&&(e=Math.pow(this.m,r),isFinite(e)&&0!==e))return a(e,i);var o=Math.trunc(i),u=i-o;if(e=Math.pow(10,r*Math.log10(this.m)+u),isFinite(e)&&0!==e)return a(e,o);var s=n.pow10(r*this.absLog10());return-1===this.sign()?1===Math.abs(r%2)?s.neg():0===Math.abs(r%2)?s:d:s},n.pow=function(t,n){return"number"==typeof t&&10===t&&"number"==typeof n&&Number.isInteger(n)?h(1,n):s(t).pow(n)},n.prototype.exp=function(){var t=this.toNumber();return-706<t&&t<709?n.fromNumber(Math.exp(t)):n.pow(Math.E,t)},n.exp=function(t){return s(t).exp()},n.prototype.sqr=function(){return a(Math.pow(this.m,2),2*this.e)},n.sqr=function(t){return s(t).sqr()},n.prototype.sqrt=function(){return this.m<0?d:this.e%2!=0?a(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):a(Math.sqrt(this.m),Math.floor(this.e/2))},n.sqrt=function(t){return s(t).sqrt()},n.prototype.cube=function(){return a(Math.pow(this.m,3),3*this.e)},n.cube=function(t){return s(t).cube()},n.prototype.cbrt=function(){var t=1,n=this.m;n<0&&(t=-1,n=-n);var e=t*Math.pow(n,1/3),r=this.e%3;return a(1===r||-2===r?2.154434690031883*e:0!==r?4.641588833612778*e:e,Math.floor(this.e/3))},n.cbrt=function(t){return s(t).cbrt()},n.prototype.dp=function(){if(!this.isFinite())return NaN;if(this.exponent>=17)return 0;for(var t=this.mantissa,n=-this.exponent,e=1;Math.abs(Math.round(t*e)/e-t)>1e-10;)e*=10,n++;return n>0?n:0},n.dp=function(t){return s(t).dp()},n.prototype.decimalPlaces=function(){return this.dp()},n.decimalPlaces=function(t){return s(t).dp()},n.affordGeometricSeries=function(t,n,e,r){return c(s(t),s(n),s(e),r)},n.sumGeometricSeries=function(t,n,e,r){return f(t,s(n),s(e),r)},n.affordArithmeticSeries=function(t,n,e,r){return function(t,n,e,r){var i=n.add(r.mul(e)).sub(e.div(2)),o=i.pow(2);return i.neg().add(o.add(e.mul(t).mul(2)).sqrt()).div(e).floor()}(s(t),s(n),s(e),s(r))},n.sumArithmeticSeries=function(t,n,e,r){return function(t,n,e,r){var i=n.add(r.mul(e));return t.div(2).mul(i.mul(2).plus(t.sub(1).mul(e)))}(s(t),s(n),s(e),s(r))},n.efficiencyOfPurchase=function(t,n,e){return function(t,n,e){return t.div(n).add(t.div(e))}(s(t),s(n),s(e))},n.randomDecimalForTesting=function(t){if(20*Math.random()<1)return h(0,0);var n=10*Math.random();10*Math.random()<1&&(n=Math.round(n)),n*=Math.sign(2*Math.random()-1);var e=Math.floor(Math.random()*t*2)-t;return a(n,e)},n.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(0===this.m)return this.m=0,this.e=0,this;var t=Math.floor(Math.log10(Math.abs(this.m)));return this.m=-324===t?10*this.m/1e-323:this.m/r(t),this.e+=t,this},n.prototype.toNumber=function(){if(!this.isFinite())return this.mantissa;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(-324===this.e)return this.m>0?5e-324:-5e-324;var t=this.m*r(this.e);if(!isFinite(t)||this.e<0)return t;var n=Math.round(t);return Math.abs(n-t)<1e-10?n:t},n.prototype.mantissaWithDecimalPlaces=function(t){if(!this.isFinite())return this.mantissa;if(0===this.m)return 0;var n=t+1,e=Math.ceil(Math.log10(Math.abs(this.m))),r=Math.round(this.m*Math.pow(10,n-e))*Math.pow(10,e-n);return parseFloat(r.toFixed(Math.max(n-e,0)))},n.prototype.toString=function(){return this.isFinite()?this.e<=-t||0===this.m?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e:this.mantissa.toString()},n.prototype.toExponential=function(n){if(!this.isFinite())return this.mantissa.toString();if(this.e<=-t||0===this.m)return"0"+u(n)+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(n);isFinite(n)||(n=17);var e=n+1,r=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,e-r))*Math.pow(10,r-e)).toFixed(Math.max(e-r,0))+"e"+(this.e>=0?"+":"")+this.e},n.prototype.toFixed=function(n){if(!this.isFinite())return this.mantissa.toString();if(this.e<=-t||0===this.m)return"0"+u(n);if(this.e>=17){var e=this.m.toString().replace(".","");return e+o(this.e-e.length+1)+u(n)}return this.toNumber().toFixed(n)},n.prototype.toPrecision=function(t){return this.e<=-7?this.toExponential(t-1):t>this.e?this.toFixed(t-this.e-1):this.toExponential(t-1)},n.prototype.valueOf=function(){return this.toString()},n.prototype.toJSON=function(){return this.toString()},n.prototype.toStringWithDecimalPlaces=function(t){return this.toExponential(t)},n.prototype.pow_base=function(t){return s(t).pow(this)},n.prototype.factorial=function(){var t=this.toNumber()+1;return n.pow(t/Math.E*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))),t).mul(Math.sqrt(2*Math.PI/t))},n.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},n.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},n.prototype.tanh=function(){return this.sinh().div(this.cosh())},n.prototype.asinh=function(){return n.ln(this.add(this.sqr().add(1).sqrt()))},n.prototype.acosh=function(){return n.ln(this.add(this.sqr().sub(1).sqrt()))},n.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:n.ln(this.add(1).div(new n(1).sub(this)))/2},n.prototype.ascensionPenalty=function(t){return 0===t?this:this.pow(Math.pow(10,-t))},n.prototype.egg=function(){return this.add(9)},n.prototype.isFinite=function(){return isFinite(this.mantissa)},n.prototype.isNaN=function(){return this.mantissa!=this.mantissa},n.prototype.isPositiveInfinity=function(){return this.mantissa===N.mantissa},n.prototype.isNegativeInfinity=function(){return this.mantissa===M.mantissa},Object.defineProperty(n,"MAX_VALUE",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(n,"MIN_VALUE",{get:function(){return g},enumerable:!1,configurable:!0}),Object.defineProperty(n,"NUMBER_MAX_VALUE",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(n,"NUMBER_MIN_VALUE",{get:function(){return b},enumerable:!1,configurable:!0}),Object.defineProperty(n,"NaN",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(n,"POSITIVE_INFINITY",{get:function(){return N},enumerable:!1,configurable:!0}),Object.defineProperty(n,"NEGATIVE_INFINITY",{get:function(){return M},enumerable:!1,configurable:!0}),n}(),l=h(1,t),g=h(1,-t),y=s(Number.MAX_VALUE),b=s(Number.MIN_VALUE),d=h(Number.NaN,0),N=h(Number.POSITIVE_INFINITY,0),M=h(Number.NEGATIVE_INFINITY,0);module.exports=m;
